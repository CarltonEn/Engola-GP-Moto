using System.IO;
using UnityEngine;

public class CreateUnityPackage : MonoBehaviour
{
    [Header("Package Settings")]
    public string packageName = "MyCustomPackage";
    public string packageVersion = "1.0.0";
    public string packageDescription = "A custom Unity package.";

    [ContextMenu("Create Package")]
    public void CreatePackage()
    {
        string packagePath = Path.Combine(Application.dataPath, "../Packages", packageName);

        if (Directory.Exists(packagePath))
        {
            Debug.LogWarning($"Package '{packageName}' already exists.");
            return;
        }

        // Create package folder
        Directory.CreateDirectory(packagePath);

        // Create package.json
        string packageJson = $@"
{{
    ""name"": ""com.yourcompany.{packageName.ToLower()}"",
    ""version"": ""{packageVersion}"",
    ""displayName"": ""{packageName}"",
    ""description"": ""{packageDescription}"",
    ""unity"": ""2021.3"",
    ""author"": {{
        ""name"": ""Your Name"",
        ""email"": ""your.email@example.com"",
        ""url"": ""https://yourwebsite.com""
    }}
}}";
        File.WriteAllText(Path.Combine(packagePath, "package.json"), packageJson);

        // Create a README.md
        string readmeContent = $"# {packageName}\n\n{packageDescription}";
        File.WriteAllText(Path.Combine(packagePath, "README.md"), readmeContent);

        Debug.Log($"Package '{packageName}' created successfully at {packagePath}");
    }
}
